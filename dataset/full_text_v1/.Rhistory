library(devtools)
install.packages("devtools")
library(devtools)
install_github("jason-morgan/ina")
install.packages("installr")
library(installr)
updateR()
install_github("jason-morgan/ina")
library(devtools)
install_github("jason-morgan/ina")
library(sna)
data(cosponsorship)
SenNet <- senlist$net
data(cosponsorship)
data("cosponsorship")
library(ina)
data(cosponsorship)
SenNet <- senlist$net
SenNetBinary <- 1*(SenNet > 9)
conservatism <- dwnom[,1]
node.color <- gray((conservatism-min(conservatism)) /)
node.color <- gray((conservatism-min(conservatism)) / max(conservatism-min(conservatism)))
set.seed(1234)
plot(network(SenNetBinary), vertex, col=node.color, edge.col=rgb(150, 150, 150, 150, maxColorValue=255))
plot(network(SenNetBinary), vertex.col=node.color, edge.col=rgb(150, 150, 150, 150, maxColorValue=255))
library("stringr")
library(stringr)
install.packages("ina")
library(httr)
library(jsonlite)
library(devtools)
library(urltools)
library(readr)
library(dplyr)
library(tidyr)
library(zoo)
library(forcats)
library(scales)
library(stringr)
library(gridExtra)
setwd("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1")
daily_filenames <- list.files("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1")
this_data <- read.table("daily_filenames[1]", sep = "\t")
this_data <- read.table(paste("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[1], sep = "\t"))
this_data <- read.table(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[1]), sep = "\t")
this_data <- read.table(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[555]), sep = "\t")
View(this_data)
this_data$V1
View(this_data)
daily_filenames[555]
View(this_data)
test <- read.table("1552.txt")
test <- read.table("1552.txt", sep = "")
test <- read.table("1552.txt", sep = "")
test <- read.table("1552.txt")
?read.table
test <- read.table("1552.txt", sep = " ")
test <- read.table("1552.txt", sep = " ")
testtest <- read.table("1552.txt", sep = " ")
testtest <- read.table("1644.txt", sep = "\t")
View(testtest)
testtest
testtest <- read.table("1644.txt", sep = "\t", header = FALSE)
View(testtest)
testtest <- read_table("1644.txt", sep = "\t", header = FALSE)
testtest <- read.table("1644.txt", sep = "\n", header = FALSE)
View(testtest)
testtest$V1
testtest <- read.csv("1644.txt", sep = " ", header = FALSE)
testtest <- read.table("1644.txt", sep = "      ", header = FALSE)
testtest <- read.table("1644.txt", sep = "  ", header = FALSE)
testtest <- read.table("1644.txt", sep = " ", header = FALSE)
testtest <- read.table("1644.txt", sep = "\r\n", header = FALSE)
testtest <- read.table("1644.txt", sep = "\r", header = FALSE)
View(testtest)
testtest <- read.table("1644.txt", sep = "\r", header = F)
View(testtest)
testtest$V1
testtest <- read.table("1644.txt", sep = "\r", header = F)
View(testtest)
testtest <- read.table("1644.txt", sep = "\t", header = F)
View(testtest)
View(testtest)
testtest$V1
testtest <- read.table("1644.txt", sep = "\w", header = F)
testtest <- read.table("1644.txt", sep = "\^", header = F)
testtest <- read.table("1644.txt", sep = "\s", header = F)
testtest <- read.table("1644.txt", sep = "\t", header = F)
View(testtest)
testtest <- read.table("1644.txt", sep = ",", header = F)
View(testtest)
testtest <- read.table("1644.txt", header = F)
testtest <- read.table("1644.txt", header = F)
testtesttest <- readLines("1644.txt")
testtesttest
ttttt <- readline("1775.txt")
t <- readLines("1775.txt")
t
tt <- data.frame(article_id = daily_filenames[1],full_text = t)
View(tt)
for(i in 1:length(daily_filenames)){
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(article_id = daily_filenames[i], full_text = full_text)
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
for(i in 1:length(daily_filenames)){
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(full_text = full_text)
this_data$article_id <- daily_filenames[i]
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
file.size("1.txt")
# loop over the file names
for(i in 1:length(daily_filenames)){
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(full_text = full_text)
this_data$article_id <- daily_filenames[i]
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
library(dplyr)
library(httr)
library(jsonlite)
library(devtools)
library(urltools)
library(readr)
install.packages("utf8")
library(readr)
library(dplyr)
library(tidyr)
library(zoo)
library(forcats)
library(scales)
library(stringr)
library(gridExtra)
for(i in 1:length(daily_filenames)){
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(full_text = full_text)
this_data$article_id <- daily_filenames[i]
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
rlang::last_error()
data <- c()
for(i in 1:length(daily_filenames)){
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(full_text = full_text)
this_data$article_id <- daily_filenames[i]
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
View(data)
parse_number(daily_filenames[1])
for(i in 1:length(daily_filenames)){
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(article_id = parse_number(daily_filenames[i]), full_text = full_text)
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
rlang::last_error()
for(i in 1:length(daily_filenames)){
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data$article_id <- parse_number(daily_filenames[i])
this_data <- data.frame(full_text = full_text)
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
View(data)
daily_filenames <- list.files("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1")
data <- c()
# loop over the file names
for(i in 1:length(daily_filenames)){
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data$article_id <- parse_number(daily_filenames[i])
this_data <- data.frame(full_text = full_text)
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
# loop over the file names
data <- c()
for(i in 1:length(daily_filenames)){
this_data <- c()
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data$article_id <- parse_number(daily_filenames[i])
this_data <- data.frame(full_text = full_text)
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
View(data)
daily_filenames <- list.files("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1")
# loop over the file names
data <- c()
for(i in 1:length(daily_filenames)){
this_data <- c()
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(full_text = full_text)
this_data$article_id <- parse_number(daily_filenames[i])
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
View(data)
str(data)
write.csv(data, "full_paragraph_v1.csv")
unique(data$article_id)
tt <- unique(data$article_id)
data <- data[!(data$full_text == ""), ]
daily_filenames <- list.files("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1")
# loop over the file names
data <- c()
for(i in 1:length(daily_filenames)){
this_data <- c()
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(full_text = full_text)
this_data$article_id <- parse_number(daily_filenames[i])
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
data <- data[!(data$full_text == ""), ]
wordcount <- sapply(data$full_text, function(x) {sum(str_count(x))})
View(this_data)
test <- lengths(gregexpr("\\W+", this_data$full_text)) +
1
this_data$full_text
str_count(this_data$full_text)
daily_filenames <- list.files("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1")
data <- c()
for(i in 1:length(daily_filenames)){
this_data <- c()
if (!file.size(daily_filenames[i]) == 0) {
# read in each file
full_text <- readLines(paste0("C:/Users/li.7232/OneDrive - The Ohio State University/NewsArticleClassification/dataset/full_text_v1/", daily_filenames[i]))
# make the article id = text file id
this_data <- data.frame(full_text = full_text)
this_data$article_id <- parse_number(daily_filenames[i])
# count the word frequency and generate a brief file
this_data$word_count <- lengths(gregexpr("\\W+", this_data$full_text)) + 1
# if it is the first file, make it the object data
if(i==1) data <- this_data
# if it is not the first file, append the new data file to the old one
if (i > 1) data <- bind_rows(data, this_data)
# check on progress -- works very fast on my laptop!
print(i)
}
}
View(data)
